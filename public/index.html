<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Nmap GUI â€” Professional Web Edition</title>
  <link rel="stylesheet" href="/css/style.css">
  <meta name="description" content="Professional web-based GUI for Nmap scanning" />
</head>
<body>
  <div class="app-container" role="application" aria-label="Nmap GUI Professional">
    <!-- Header -->
    <header class="app-header" role="banner">
      <div class="header-left">
        <h1 class="app-title" title="Nmap GUI â€” Professional Web Edition">ğŸ—ºï¸ Nmap GUI â€” Professional</h1>
        <p class="app-subtitle">Fast, friendly network scanning â€” quick scans, service detection, OS fingerprinting</p>
      </div>

      <div class="header-right" role="navigation" aria-label="Global actions">
        <div class="header-actions" aria-hidden="false">
          <button class="icon-btn" id="themeToggle" aria-label="Toggle theme" title="Toggle theme (T)">
            <span id="themeIcon">ğŸŒ™</span>
          </button>

          <button class="icon-btn" id="settingsBtn" aria-haspopup="dialog" aria-controls="settingsModal" title="Settings (S)">
            <span>âš™ï¸</span>
          </button>

          <button class="icon-btn" id="helpBtn" aria-haspopup="dialog" aria-controls="helpModal" title="Help (?)">
            <span>â“</span>
          </button>
        </div>
      </div>
    </header>

    <!-- Main Content -->
    <main class="main-content" role="main">
      <!-- Left Pane -->
      <section class="left-pane" aria-label="Controls and results">
        <!-- Control Panel -->
        <div class="control-panel">
          <label for="targetInput" class="label-bold">Targets (CSV / IP / Domain)</label>
          <div class="input-row">
            <input 
              type="text" 
              id="targetInput" 
              class="target-input" 
              placeholder="e.g., 10.1.49.92, 192.168.1.0/24, example.com"
              value="10.1.49.92"
              aria-label="Targets"
            >
            <div class="control-right">
              <button class="btn small" id="saveXmlBtn" title="Save last XML" aria-label="Save last XML">ğŸ’¾</button>
              <button class="btn small" id="exportCsvBtn" title="Export ports to CSV" aria-label="Export CSV">ğŸ“Š</button>
              <button class="btn small" id="copyResultsBtn" title="Copy results" aria-label="Copy Results">ğŸ“‹</button>
              <button class="btn small" id="openFolderBtn" title="Open output folder" aria-label="Open output folder">ğŸ“</button>
              <button class="btn small" id="rerunBtn" title="Re-run last scan" aria-label="Re-run">ğŸ”„</button>
            </div>
          </div>
        </div>

        <!-- Scan Mode Buttons -->
        <div class="scan-modes" role="group" aria-label="Scan modes">
          <button class="scan-btn" data-mode="ping" title="Ping scan (host discovery)">ğŸ“¡ Ping</button>
          <button class="scan-btn" data-mode="quick" title="Quick scan (top 200 ports)">âš¡ Quick</button>
          <button class="scan-btn" data-mode="fulltcp" title="Full TCP scan (all ports)">ğŸ” Full TCP</button>
          <button class="scan-btn" data-mode="svcdetect" title="Service/version detection">ğŸ”§ SvcDetect</button>
          <button class="scan-btn" data-mode="os" title="OS detection (may require privileges)">ğŸ–¥ï¸ OS Detect</button>
          <button class="scan-btn" data-mode="nse" title="Run Nmap default scripts (NSE)">ğŸ¯ NSE</button>
        </div>

        <!-- Host Summary -->
        <div class="host-summary" aria-live="polite" aria-atomic="true">
          <h3>Host Summary</h3>
          <div class="summary-grid">
            <div class="summary-item">
              <div class="led" id="statusLed" role="status" aria-label="Host status"></div>
              <div class="summary-text">
                <div id="hostLabel" class="summary-line">Host: -</div>
                <div id="osLabel" class="summary-sub">OS: -</div>
              </div>
            </div>

            <div class="summary-item">
              <div class="summary-text">
                <div id="macLabel" class="summary-line">MAC: -</div>
                <div class="summary-sub" id="macVendor">Vendor: -</div>
              </div>
            </div>

            <div class="summary-item stats">
              <div class="stat-block">
                <div class="stat-number" id="portsFound">â€”</div>
                <div class="stat-label">Ports</div>
              </div>
              <div class="stat-block">
                <div class="stat-number" id="lastScanTime">â€”</div>
                <div class="stat-label">Last</div>
              </div>
            </div>
          </div>
        </div>

        <!-- Port Filter -->
        <div class="port-filter">
          <label for="portFilterInput">Filter Ports</label>
          <input 
            type="text" 
            id="portFilterInput" 
            class="filter-input" 
            placeholder="Search by port, service, state..."
            aria-label="Filter ports"
          >
        </div>

        <!-- Ports Table -->
        <div class="ports-section" aria-label="Ports table">
          <h3>Open / Filtered Ports</h3>
          <div class="table-wrapper">
            <table class="ports-table" id="portsTable" role="table" aria-label="Ports table">
              <thead>
                <tr role="row">
                  <th class="sortable" data-column="protocol" scope="col" role="columnheader" tabindex="0">Protocol</th>
                  <th class="sortable" data-column="port" scope="col" role="columnheader" tabindex="0">Port</th>
                  <th class="sortable" data-column="state" scope="col" role="columnheader" tabindex="0">State</th>
                  <th class="sortable" data-column="service" scope="col" role="columnheader" tabindex="0">Service</th>
                  <th scope="col" role="columnheader">Version</th>
                </tr>
              </thead>
              <tbody id="portsBody" role="rowgroup">
                <!-- Populated by JS -->
              </tbody>
            </table>
          </div>
        </div>

        <!-- Logs -->
        <div class="logs-section" aria-label="Logs and errors">
          <h3>Errors / Logs</h3>
          <div class="log-container" id="logContainer" role="log" aria-live="polite">
            <p class="log-empty">Logs will appear here...</p>
          </div>
        </div>

        <!-- Status Bar -->
        <footer class="status-bar" role="contentinfo">
          <div class="status-left">
            <span id="statusText" class="status-text">Ready</span>
          </div>
          <div class="status-right">
            <div class="progress-wrap" id="progressBar" aria-hidden="true">
              <div class="progress-fill" aria-hidden="true"></div>
            </div>
          </div>
        </footer>
      </section>

      <!-- Right Pane -->
      <aside class="right-pane" aria-label="Scan history">
        <div class="history-panel">
          <h3>Scan History</h3>
          <div class="history-list" id="historyList" role="list" aria-live="polite">
            <p class="history-empty">No scans yet</p>
          </div>
          <div class="history-actions">
            <button class="btn full ghost" id="clearHistoryBtn" title="Clear history">ğŸ—‘ï¸ Clear History</button>
          </div>

          <!-- GitHub Card -->
          <div class="github-card" aria-label="Project and author details">
            <div class="gh-header">
              <div class="gh-avatar" aria-hidden="true">RC</div>
              <div class="gh-info">
                <div class="gh-name">Ritartha Chaki</div>
                <div class="gh-sub">@ritartha / NMAP-Fun-UI</div>
              </div>
            </div>
            <p class="gh-desc">Professional Nmap GUI â€” web edition. Feedback welcome.</p>
            <div class="gh-actions">
              <a class="btn github primary" href="https://github.com/ritartha" target="_blank" rel="noopener" aria-label="Open GitHub profile">View Profile</a>
              <a class="btn github" href="https://github.com/ritartha/NMAP-Fun-UI" target="_blank" rel="noopener" aria-label="Open repository">@ritartha/NMAP-Fun-UI</a>
              <a class="btn github ghost" href="mailto:ritartha@gmail.com" aria-label="Send email">Email</a>
            </div>
            <div class="gh-footer small-note">Contact: <a href="mailto:ritartha@gmail.com">ritartha@gmail.com</a></div>
          </div>
        </div>
      </aside>
    </main>
  </div>

  <!-- Settings Modal -->
  <div class="modal" id="settingsModal" role="dialog" aria-modal="true" aria-hidden="true" aria-labelledby="settingsTitle">
    <div class="modal-content">
      <div class="modal-header">
        <h2 id="settingsTitle">Settings</h2>
        <button class="close-btn" id="closeSettingsBtn" aria-label="Close settings">&times;</button>
      </div>
      <div class="modal-body">
        <label for="defaultTargetInput">Default Target:</label>
        <input type="text" id="defaultTargetInput" class="settings-input" value="10.1.49.92" />
        <p class="small-note">Default target saved in browser localStorage.</p>
      </div>
      <div class="modal-footer">
        <button class="btn secondary" id="cancelSettingsBtn">Cancel</button>
        <button class="btn primary" id="saveSettingsBtn">Save</button>
      </div>
    </div>
  </div>

  <!-- Help Modal -->
  <div class="modal" id="helpModal" role="dialog" aria-modal="true" aria-hidden="true" aria-labelledby="helpTitle">
    <div class="modal-content">
      <div class="modal-header">
        <h2 id="helpTitle">Help</h2>
        <button class="close-btn" id="closeHelpBtn" aria-label="Close help">&times;</button>
      </div>
      <div class="modal-body">
        <h4>Nmap GUI Professional Edition</h4>
        <ul>
          <li><strong>Targets:</strong> Enter CSV or IP/domain targets to scan.</li>
          <li><strong>Scan Types:</strong> Ping, Quick, Full TCP, SvcDetect, OS Detect, NSE.</li>
          <li><strong>Filter:</strong> Use the filter input to search results in the ports table.</li>
          <li><strong>Export:</strong> Save results as XML or CSV from the quick actions.</li>
          <li><strong>History:</strong> Click a history item to reload its results.</li>
        </ul>
        <p class="small-note">Requires nmap installed and available in system PATH.</p>
      </div>
    </div>
  </div>

  <script src="/js/app.js" defer></script>
</body>
</html>